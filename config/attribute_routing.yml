# =============================================================================
# ATTRIBUTE ROUTING CONFIGURATION  
# =============================================================================
# 
# This file defines which service should handle each clothing attribute.
# Format: attribute_name -> service_name (1:1 mapping)
#
# Available Services:
# - heuristics: Rule-based analysis for basic visual attributes
# - llm_multimodal: Multimodal LLM for contextual reasoning
# - fashion_clip: Pre-trained vision model for fashion understanding
#
# All other attributes not listed here will be returned as null with warnings.
# =============================================================================

# Currently implemented attribute mappings
attribute_mappings:
  # Heuristic service - rule-based color detection
  color: "heuristics"
  
  # Multimodal LLM - seasonal appropriateness reasoning
  season: "llm_multimodal"
  
  # Fashion-CLIP - neckline detection via vision
  neckline: "fashion_clip"

# Unimplemented attributes (will return null with warnings):
# - category
# - gender  
# - sleeve_length
# - closure_type
# - fit
# - material
# - pattern
# - brand
# - style
# - condition

# Service configuration
services:
  - name: "heuristics"
    type: "heuristic"
    url: "http://heuristics:8000"
    timeout_seconds: 30
    
  - name: "llm_multimodal"
    type: "llm"
    url: "http://llm-multimodal:8000"
    timeout_seconds: 45
    
  - name: "fashion_clip"
    type: "pre_trained_vision"
    url: "http://fashion-clip:8000"
    timeout_seconds: 20

# Routing behavior
routing_config:
  # How to handle unimplemented attributes
  unimplemented_behavior: "return_null_with_warning"  # or "skip" or "error"
  
  # Retry configuration
  max_retry_attempts: 2
  retry_delay_seconds: 1
  
  # Timeout configuration
  default_timeout_seconds: 30
  total_request_timeout_seconds: 120
